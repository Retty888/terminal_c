<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <script src="lightweight-charts.standalone.production.js"></script>
  <style>
    html, body, #chart { width: 100%; height: 100%; margin: 0; padding: 0; }
  </style>
</head>
<body>
  <div id="chart"></div>
  <script>
    const chart = LightweightCharts.createChart(document.getElementById('chart'), {
      width: document.body.clientWidth,
      height: document.body.clientHeight,
    });
    const series = chart.addCandlestickSeries();
    let priceLine;
    function loadCandles(data) {
      series.setData(data);
    }
    window.chart = {
      addCandle: c => series.update(c),
      setMarkers: m => series.setMarkers(m),
      setPriceLine: p => {
        if (priceLine) {
          series.removePriceLine(priceLine);
        }
        priceLine = series.createPriceLine({ price: p, color: 'yellow', lineWidth: 1 });
      }
    };
  </script>
</body>
</html>
